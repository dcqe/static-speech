{"ast":null,"code":"export const supportsPersistence = () => {\n  try {\n    localStorage.setItem(\"test\", \"test\");\n    localStorage.removeItem(\"test\");\n    return true;\n  } catch (exception) {\n    return false;\n  }\n};\nexport const persistCurrentState = (currentState, saveables) => {\n  if (!supportsPersistence()) return;\n  const saveableState = saveables.reduce((acc, saveable) => {\n    acc[saveable.toString()] = currentState[saveable.toString()];\n    return acc;\n  }, {});\n  const serializedState = JSON.stringify(saveableState);\n  localStorage.setItem(\"state\", serializedState);\n};\nexport const loadPersistedState = () => {\n  if (!supportsPersistence()) return {};\n  const serializedState = localStorage.getItem(\"state\");\n  if (serializedState) return JSON.parse(serializedState);\n};","map":{"version":3,"sources":["/home/students/ge47qut/public_html/v2/react-speech/src/utilities/persistence.js"],"names":["supportsPersistence","localStorage","setItem","removeItem","exception","persistCurrentState","currentState","saveables","saveableState","reduce","acc","saveable","toString","serializedState","JSON","stringify","loadPersistedState","getItem","parse"],"mappings":"AAAA,OAAO,MAAMA,mBAAmB,GAAG,MAAM;AACvC,MAAI;AACFC,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,MAA7B;AACAD,IAAAA,YAAY,CAACE,UAAb,CAAwB,MAAxB;AACA,WAAO,IAAP;AACD,GAJD,CAIE,OAAOC,SAAP,EAAkB;AAClB,WAAO,KAAP;AACD;AACF,CARM;AAUP,OAAO,MAAMC,mBAAmB,GAAG,CAACC,YAAD,EAAeC,SAAf,KAA6B;AAC9D,MAAI,CAACP,mBAAmB,EAAxB,EAA4B;AAE5B,QAAMQ,aAAa,GAAGD,SAAS,CAACE,MAAV,CAAiB,CAACC,GAAD,EAAMC,QAAN,KAAmB;AACxDD,IAAAA,GAAG,CAACC,QAAQ,CAACC,QAAT,EAAD,CAAH,GAA2BN,YAAY,CAACK,QAAQ,CAACC,QAAT,EAAD,CAAvC;AACA,WAAOF,GAAP;AACD,GAHqB,EAGnB,EAHmB,CAAtB;AAKA,QAAMG,eAAe,GAAGC,IAAI,CAACC,SAAL,CAAeP,aAAf,CAAxB;AACAP,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BW,eAA9B;AACD,CAVM;AAYP,OAAO,MAAMG,kBAAkB,GAAG,MAAM;AACtC,MAAI,CAAChB,mBAAmB,EAAxB,EAA4B,OAAO,EAAP;AAE5B,QAAMa,eAAe,GAAGZ,YAAY,CAACgB,OAAb,CAAqB,OAArB,CAAxB;AACA,MAAIJ,eAAJ,EAAqB,OAAOC,IAAI,CAACI,KAAL,CAAWL,eAAX,CAAP;AACtB,CALM","sourcesContent":["export const supportsPersistence = () => {\n  try {\n    localStorage.setItem(\"test\", \"test\");\n    localStorage.removeItem(\"test\");\n    return true;\n  } catch (exception) {\n    return false;\n  }\n};\n\nexport const persistCurrentState = (currentState, saveables) => {\n  if (!supportsPersistence()) return;\n\n  const saveableState = saveables.reduce((acc, saveable) => {\n    acc[saveable.toString()] = currentState[saveable.toString()];\n    return acc;\n  }, {});\n\n  const serializedState = JSON.stringify(saveableState);\n  localStorage.setItem(\"state\", serializedState);\n};\n\nexport const loadPersistedState = () => {\n  if (!supportsPersistence()) return {};\n\n  const serializedState = localStorage.getItem(\"state\");\n  if (serializedState) return JSON.parse(serializedState);\n};\n"]},"metadata":{},"sourceType":"module"}