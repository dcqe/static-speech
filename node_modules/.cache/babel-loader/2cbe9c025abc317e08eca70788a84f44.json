{"ast":null,"code":"import compact from \"lodash/compact\";\nimport trim from \"lodash/trim\";\nexport async function fetchCocktailEnrichment(cocktail) {\n  const cocktailName = cocktail.name;\n  const response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${cocktail.searchTerm || cocktailName}`);\n  const {\n    drinks\n  } = await response.json();\n  if (!drinks) return {};\n  const mainDrink = drinks.find(d => d.strDrink.toLowerCase() === cocktailName.toLowerCase()) || drinks[0];\n  const variants = drinks.filter(d => d.strDrink.toLowerCase() !== cocktailName.toLowerCase()).map(d => {\n    const ingredients = [];\n\n    for (let i = 1; i < 16; i++) {\n      const name = d[`strIngredient${i}`] || \"\";\n      const measure = d[`strMeasure${i}`] || \"\";\n      ingredients.push(trim(measure + name));\n    }\n\n    return {\n      name: `${d.strDrink}`,\n      image: d.strDrinkThumb,\n      category: d.strDrinkCategory,\n      glass: d.strDrinkGlass,\n      preparation: d.strInstructions,\n      ingredients: compact(ingredients)\n    };\n  });\n  return {\n    image: mainDrink.strDrinkThumb,\n    ibaCategory: mainDrink.strIBA,\n    variants\n  };\n}","map":{"version":3,"sources":["/home/students/ge47qut/public_html/v2/react-speech/src/services/cocktailDBAPI.service.js"],"names":["compact","trim","fetchCocktailEnrichment","cocktail","cocktailName","name","response","fetch","searchTerm","drinks","json","mainDrink","find","d","strDrink","toLowerCase","variants","filter","map","ingredients","i","measure","push","image","strDrinkThumb","category","strDrinkCategory","glass","strDrinkGlass","preparation","strInstructions","ibaCategory","strIBA"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,gBAApB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAO,eAAeC,uBAAf,CAAuCC,QAAvC,EAAiD;AACtD,QAAMC,YAAY,GAAGD,QAAQ,CAACE,IAA9B;AAEA,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,4DAA2DJ,QAAQ,CAACK,UAAT,IAC1DJ,YAAa,EAFW,CAA5B;AAIA,QAAM;AAAEK,IAAAA;AAAF,MAAa,MAAMH,QAAQ,CAACI,IAAT,EAAzB;AAEA,MAAI,CAACD,MAAL,EAAa,OAAO,EAAP;AAEb,QAAME,SAAS,GACbF,MAAM,CAACG,IAAP,CAAYC,CAAC,IAAIA,CAAC,CAACC,QAAF,CAAWC,WAAX,OAA6BX,YAAY,CAACW,WAAb,EAA9C,KACAN,MAAM,CAAC,CAAD,CAFR;AAIA,QAAMO,QAAQ,GAAGP,MAAM,CACpBQ,MADc,CACPJ,CAAC,IAAIA,CAAC,CAACC,QAAF,CAAWC,WAAX,OAA6BX,YAAY,CAACW,WAAb,EAD3B,EAEdG,GAFc,CAEVL,CAAC,IAAI;AACR,UAAMM,WAAW,GAAG,EAApB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,YAAMf,IAAI,GAAGQ,CAAC,CAAE,gBAAeO,CAAE,EAAnB,CAAD,IAA0B,EAAvC;AACA,YAAMC,OAAO,GAAGR,CAAC,CAAE,aAAYO,CAAE,EAAhB,CAAD,IAAuB,EAAvC;AACAD,MAAAA,WAAW,CAACG,IAAZ,CAAiBrB,IAAI,CAACoB,OAAO,GAAGhB,IAAX,CAArB;AACD;;AACD,WAAO;AACLA,MAAAA,IAAI,EAAG,GAAEQ,CAAC,CAACC,QAAS,EADf;AAELS,MAAAA,KAAK,EAAEV,CAAC,CAACW,aAFJ;AAGLC,MAAAA,QAAQ,EAAEZ,CAAC,CAACa,gBAHP;AAILC,MAAAA,KAAK,EAAEd,CAAC,CAACe,aAJJ;AAKLC,MAAAA,WAAW,EAAEhB,CAAC,CAACiB,eALV;AAMLX,MAAAA,WAAW,EAAEnB,OAAO,CAACmB,WAAD;AANf,KAAP;AAQD,GAjBc,CAAjB;AAmBA,SAAO;AACLI,IAAAA,KAAK,EAAEZ,SAAS,CAACa,aADZ;AAELO,IAAAA,WAAW,EAAEpB,SAAS,CAACqB,MAFlB;AAGLhB,IAAAA;AAHK,GAAP;AAKD","sourcesContent":["import compact from \"lodash/compact\";\nimport trim from \"lodash/trim\";\n\nexport async function fetchCocktailEnrichment(cocktail) {\n  const cocktailName = cocktail.name;\n\n  const response = await fetch(\n    `https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${cocktail.searchTerm ||\n      cocktailName}`\n  );\n  const { drinks } = await response.json();\n\n  if (!drinks) return {};\n\n  const mainDrink =\n    drinks.find(d => d.strDrink.toLowerCase() === cocktailName.toLowerCase()) ||\n    drinks[0];\n\n  const variants = drinks\n    .filter(d => d.strDrink.toLowerCase() !== cocktailName.toLowerCase())\n    .map(d => {\n      const ingredients = [];\n      for (let i = 1; i < 16; i++) {\n        const name = d[`strIngredient${i}`] || \"\";\n        const measure = d[`strMeasure${i}`] || \"\";\n        ingredients.push(trim(measure + name));\n      }\n      return {\n        name: `${d.strDrink}`,\n        image: d.strDrinkThumb,\n        category: d.strDrinkCategory,\n        glass: d.strDrinkGlass,\n        preparation: d.strInstructions,\n        ingredients: compact(ingredients)\n      };\n    });\n\n  return {\n    image: mainDrink.strDrinkThumb,\n    ibaCategory: mainDrink.strIBA,\n    variants\n  };\n}\n"]},"metadata":{},"sourceType":"module"}