{"ast":null,"code":"import _slicedToArray from\"/home/students/ge47qut/public_html/v2/react-speech/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useMemo}from\"react\";import{debounce}from\"lodash\";import{Paper,Button,Menu,MenuItem,TextField,InputAdornment}from\"@material-ui/core\";import{getRules}from\"../filterConfig\";import{removeOrAddItemFromArray}from\"../utilities/util\";import{labelFor}from\"../filterConfig\";import{FilterChips,FilterDialog}from\"./Filters\";import{withStyles}from\"@material-ui/core/styles\";import{bindActionCreators}from\"redux\";import{connect}from\"react-redux\";import{updateFilter,activateFilterDialog}from\"../actions\";import FilterListIcon from\"@material-ui/icons/FilterList\";import SearchIcon from\"@material-ui/icons/Search\";import{filteredCocktailsSelector}from\"../selectors\";import pluralize from\"pluralize\";var styles=function styles(theme){return{filters:{padding:theme.spacing(1,0,0,0)},cocktailsCount:{textTransform:\"upperCase\"},filterButton:{float:\"right\",margin:theme.spacing(1)},closeButton:{position:\"absolute\",right:theme.spacing(1),top:theme.spacing(1),color:theme.palette.grey[500]},cocktailCountContainer:{padding:theme.spacing(0.5),fontWeight:\"bold\",clear:\"both\",textAlign:\"center\",textTransform:\"uppercase\",backgroundColor:theme.palette.secondary.main,color:theme.palette.getContrastText(theme.palette.secondary.light)},searchField:{marginTop:0,marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:300}};};var CocktailFilter=function CocktailFilter(_ref){var filteredCocktails=_ref.filteredCocktails,_ref$filterOptions=_ref.filterOptions,activeFilters=_ref$filterOptions.activeFilters,nameFilter=_ref$filterOptions.nameFilter,updateFilter=_ref.updateFilter,activateFilterDialog=_ref.activateFilterDialog,classes=_ref.classes;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var updateNameFilter=useMemo(function(){return debounce(function(searchText){updateFilter({nameFilter:searchText});},100);},[updateFilter]);function openFilterMenu(event){setAnchorEl(event.currentTarget);}function closeFilterMenu(){setAnchorEl(null);}function addFilter(filter){updateFilter({activeFilters:removeOrAddItemFromArray(filter,activeFilters)});activateFilterDialog(filter);closeFilterMenu();}return/*#__PURE__*/React.createElement(Paper,{square:true,elevation:24,className:classes.filters});};var mapStateToProps=function mapStateToProps(state){return{filterOptions:state.filterOptions,filteredCocktails:filteredCocktailsSelector(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateFilter:bindActionCreators(updateFilter,dispatch),activateFilterDialog:bindActionCreators(activateFilterDialog,dispatch)};};export default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(CocktailFilter));","map":{"version":3,"sources":["/home/students/ge47qut/public_html/v2/react-speech/src/components/CocktailFilter.js"],"names":["React","useState","useMemo","debounce","Paper","Button","Menu","MenuItem","TextField","InputAdornment","getRules","removeOrAddItemFromArray","labelFor","FilterChips","FilterDialog","withStyles","bindActionCreators","connect","updateFilter","activateFilterDialog","FilterListIcon","SearchIcon","filteredCocktailsSelector","pluralize","styles","theme","filters","padding","spacing","cocktailsCount","textTransform","filterButton","float","margin","closeButton","position","right","top","color","palette","grey","cocktailCountContainer","fontWeight","clear","textAlign","backgroundColor","secondary","main","getContrastText","light","searchField","marginTop","marginLeft","marginRight","width","CocktailFilter","filteredCocktails","filterOptions","activeFilters","nameFilter","classes","anchorEl","setAnchorEl","updateNameFilter","searchText","openFilterMenu","event","currentTarget","closeFilterMenu","addFilter","filter","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useMemo } from \"react\";\nimport { debounce } from \"lodash\";\nimport {\n  Paper,\n  Button,\n  Menu,\n  MenuItem,\n  TextField,\n  InputAdornment\n} from \"@material-ui/core\";\nimport { getRules } from \"../filterConfig\";\nimport { removeOrAddItemFromArray } from \"../utilities/util\";\nimport { labelFor } from \"../filterConfig\";\nimport { FilterChips, FilterDialog } from \"./Filters\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { updateFilter, activateFilterDialog } from \"../actions\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { filteredCocktailsSelector } from \"../selectors\";\nimport pluralize from \"pluralize\";\nconst styles = theme => ({\n  filters: {\n    padding: theme.spacing(1, 0, 0, 0)\n  },\n  cocktailsCount: {\n    textTransform: \"upperCase\"\n  },\n  filterButton: {\n    float: \"right\",\n    margin: theme.spacing(1)\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  },\n  cocktailCountContainer: {\n    padding: theme.spacing(0.5),\n    fontWeight: \"bold\",\n    clear: \"both\",\n    textAlign: \"center\",\n    textTransform: \"uppercase\",\n    backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.getContrastText(theme.palette.secondary.light)\n  },\n  searchField: {\n    marginTop: 0,\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 300\n  }\n});\n\nconst CocktailFilter = ({\n  filteredCocktails,\n  filterOptions: { activeFilters, nameFilter },\n  updateFilter,\n  activateFilterDialog,\n  classes\n}) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const updateNameFilter = useMemo(\n    () =>\n      debounce(searchText => {\n        updateFilter({\n          nameFilter: searchText\n        });\n      }, 100),\n    [updateFilter]\n  );\n\n  function openFilterMenu(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function closeFilterMenu() {\n    setAnchorEl(null);\n  }\n\n  function addFilter(filter) {\n    updateFilter({\n      activeFilters: removeOrAddItemFromArray(filter, activeFilters)\n    });\n    activateFilterDialog(filter);\n    closeFilterMenu();\n  }\n\n  return (\n    <Paper square={true} elevation={24} className={classes.filters}>\n\n    </Paper>\n  );\n};\n\nconst mapStateToProps = state => ({\n  filterOptions: state.filterOptions,\n  filteredCocktails: filteredCocktailsSelector(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  updateFilter: bindActionCreators(updateFilter, dispatch),\n  activateFilterDialog: bindActionCreators(activateFilterDialog, dispatch)\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(CocktailFilter));\n"]},"metadata":{},"sourceType":"module"}